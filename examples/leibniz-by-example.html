<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Leibniz by example</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><style type="text/css">
.Leibniz { background-color: #E8E8FF; }
.LeibnizOutput { background-color: #E0FFE0; }
.LeibnizComment { background-color: #FFE8E8; }

</style><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Leibniz by example</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Example__the_predator-prey_equations%29" class="tocviewlink" data-pltdoc="x">Example:<span class="mywbr"> &nbsp;</span> the predator-<wbr></wbr>prey equations</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.A_guide_to_reading_this_example%29" class="tocviewlink" data-pltdoc="x">A guide to reading this example</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Why_.Leibniz_%29" class="tocviewlink" data-pltdoc="x">Why Leibniz?</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.What_else_can_you_do_with_.Leibniz_%29" class="tocviewlink" data-pltdoc="x">What else can you do with Leibniz?</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Leibniz_by_example%29" class="tocsubseclink" data-pltdoc="x">Leibniz by example</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Example__the_predator-prey_equations%29" class="tocsubseclink" data-pltdoc="x">Example:<span class="mywbr"> &nbsp;</span> the predator-<wbr></wbr>prey equations</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.A_guide_to_reading_this_example%29" class="tocsubseclink" data-pltdoc="x">A guide to reading this example</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Why_.Leibniz_%29" class="tocsubseclink" data-pltdoc="x">Why Leibniz?</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.What_else_can_you_do_with_.Leibniz_%29" class="tocsubseclink" data-pltdoc="x">What else can you do with Leibniz?</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Leibniz_by_example)"></a>Leibniz by example</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Konrad Hinsen</p></span></div><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Context <span style="font-style: italic">predator-prey</span><br/>uses <span style="font-style: italic">functions/derivatives-&#8477;&#8594;&#8477;</span></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">Let&rsquo;s start right away with an example, the explanations will follow in the
next section.</div></p><h3>1<tt>&nbsp;</tt><a name="(part._.Example__the_predator-prey_equations)"></a>Example: the predator-prey equations</h3><p>The predator-prey equations, also known as the Lotka-Volterra equations, describe the dynamics of two interacting species in an ecosystem in terms of non-linear differential equations.</p><p><div class="SIntrapara">The two interacting time-dependent observables are the number of prey, <span class="nobreak"><span class="Leibniz">prey&#8239;:&#8239;&#8477;&#8594;&#8477;</span></span>, and the number of predators, <span class="nobreak"><span class="Leibniz">predators&#8239;:&#8239;&#8477;&#8594;&#8477;</span></span>. Although the number of individuals of a species is really an integer, it is taken to be a real number for the benefit of using differential equations. The two coupled equations for <span class="Leibniz" title="ℝ→ℝ">prey</span> and <span class="Leibniz" title="ℝ→ℝ">predators</span>
are
</div><div class="SIntrapara"><blockquote><p><span class="Leibniz"><span style="font-weight: bold">pp1</span>: &#119967;(prey)&#8287;=&#8287;(prey-growth-rate&#8287;&#215;&#8287;prey)&#8287;-&#8287;(predation-rate&#8287;&#215;&#8287;predators&#8287;&#215;&#8287;prey)</span><br/><span class="Leibniz"><span style="font-weight: bold">pp2</span>: &#119967;(predators)&#8287;=&#8287;(predator-growth-rate&#8287;&#215;&#8287;predators&#8287;&#215;&#8287;prey)&#8287;-&#8287;(predator-loss-rate&#8287;&#215;&#8287;predators)</span></p></blockquote></div></p><p><div class="SIntrapara">These equations are based on a few assumptions:
</div><div class="SIntrapara"><ul><li><p>In the absence of predators, the prey exihibits exponential growth described by <span class="nobreak"><span class="Leibniz">prey-growth-rate&#8239;:&#8239;&#8477;p</span></span>.</p></li><li><p>The number of prey decreases by predation, which is <span class="nobreak"><span class="Leibniz">predation-rate&#8239;:&#8239;&#8477;p</span></span> times the number of encounters between individuals of each species. The latter is taken to be proportional to both <span class="Leibniz" title="ℝ→ℝ">prey</span> and <span class="Leibniz" title="ℝ→ℝ">predators</span>.</p></li><li><p>In the absence of prey, the number of predators decreases by starvation, described by <span class="nobreak"><span class="Leibniz">predator-loss-rate&#8239;:&#8239;&#8477;p</span></span>.</p></li><li><p>The number of predators grows with the availability of food, which, like predation, is proportional to both <span class="Leibniz" title="ℝ→ℝ">prey</span> and <span class="Leibniz" title="ℝ→ℝ">predators</span> with the proportionality constant <span class="nobreak"><span class="Leibniz">predator-growth-rate&#8239;:&#8239;&#8477;p</span></span>.</p></li></ul></div></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Context <span style="font-style: italic">predator-prey-explanation</span><br/>extends <span style="font-style: italic">predator-prey</span></p></blockquote></blockquote></blockquote><h3>2<tt>&nbsp;</tt><a name="(part._.A_guide_to_reading_this_example)"></a>A guide to reading this example</h3><ul><li><p>Everything typeset on a light blue background is Leibniz code. Everything else is plain text.</p></li><li><p>The boldface parts (<span style="font-weight: bold">pp1</span>, <span style="font-weight: bold">pp2</span>) are equation labels that can be used to refer to a specific equation.</p></li><li><p><span class="nobreak"><span class="Leibniz">&#8477;</span></span> stands for the real numbers, <span class="nobreak"><span class="Leibniz">&#8477;p</span></span> for the positive real numbers, and <span class="nobreak"><span class="Leibniz">&#8477;&#8594;&#8477;</span></span> for real functions
of one real variable. If <span class="nobreak"><span class="Leibniz">f&#8239;:&#8239;&#8477;&#8594;&#8477;</span></span> is such a function, then <span class="Leibniz" title="ℝ→ℝ">&#119967;(f)</span> is the derivative of <span class="Leibniz" title="ℝ→ℝ">f</span>. All these
definitions come from the imported context "functions/&#8477;&#8594;&#8477;" whose definition you can see
<a href="http://khinsen.net/leibniz-examples/examples/functions.html">here</a>.
Yes, that link should be in the example itself, and it will be.</p></li></ul><h3>3<tt>&nbsp;</tt><a name="(part._.Why_.Leibniz_)"></a>Why Leibniz?</h3><p>Compare the example in the first section with the beginning of the
<a href="https://en.wikipedia.org/wiki/Lotka%E2%80%93Volterra_equations">Wikipedia entry</a>
on the same topic, which uses traditional mathematical notation. If Wikipedia adopted Leibniz, what would it gain?</p><ol><li><p>A machine-readable version of the predator-prey equations, generated from the same input and therefore identical in content.
You can look at it <a href="http://khinsen.net/leibniz-examples/examples/leibniz-by-example.xml">here</a>. It&rsquo;s an XML file,
which your browser may not display nicely, but you can always download it and open it in a text editor.
A Leibniz-aware solver for differential equations could read this file, prompt you for parameter values and initial values,
and compute and plot a solution. And if you had two Leibniz-aware solvers, you could compare their output, knowing for sure
that they work on the same equations. Better yet, they work on the same equations that you have read and understood
while reading the explanation. No more mistakes in transcribing equations to code!</p></li><li><p>A more precise notation. For example, in the Wikipedia text, it is not immediately clear that <span style="font-style: italic">x</span> and <span style="font-style: italic">y</span> are
functions of time, whereas <span style="font-style: italic">&#945;</span>, <span style="font-style: italic">&#946;</span>, <span style="font-style: italic">&#947;</span>, <span style="font-style: italic">&#948;</span> are constants. In Leibniz, you have to say
what each object is, and you get an error message if you try to take the derivative of something that is not a function.
More generally, everything typeset on a blue background has been checked for consistency and completeness.</p></li></ol><h3>4<tt>&nbsp;</tt><a name="(part._.What_else_can_you_do_with_.Leibniz_)"></a>What else can you do with Leibniz?</h3><p>This simple example doesn&rsquo;t illustrate all the features of Leibniz. Moreover, Leibniz is far from complete at this time.
Here are some things that you can do, or will soon be able to do, using Leibniz:</p><ul><li><p>Express algorithms. Many computational models and methods in science combine equations with algorithms.
We write the equations in papers using mathematical notation, and the algorithms in software source code
using programming languages. Leibniz can express both, and render both in a human-readable and in a
machine-readable form. See <a href="http://khinsen.net/leibniz-examples/examples/euclid_gcd.html">here</a>
and <a href="http://khinsen.net/leibniz-examples/examples/heron.html">here</a> for simple examples of
algorithms in Leibniz.</p></li><li><p>Transform equations and algorithms. Start from a general model and then specialize it. Introduce approximations.
Switch from exact arithmetic to floating-point arithmetic (as in
<a href="http://khinsen.net/leibniz-examples/examples/heron.html">this example</a>). Most importantly,
do all this in a human-readable document that your peers can verify, rather than in hard-to-read
software source code.</p></li><li><p>Document all levels of a computational research project, from basic concepts to data anlysis workflows,
using a single language, at the level of detail that you consider appropriate. You can just write an equation
and stop there, as in the above example. But you can also use Leibniz to write an algorithm for solving differential
equations. The general idea is that you document your research in Leibniz, but delegate what you consider technical
details to Leibniz-aware software tools.</p></li><li><p>Work with complex models using computational tools. Suppose your scientific model is an equation with 2000 terms.
Writing it down on paper is pointless. Writing it down as a Fortran subroutine is more useful, but you cannot
do anything else with that subroutine than compute specific values. If you write it down in Leibniz, you can
write software to analyze it, e.g. check that every second term is positive or whatever else you know about your
model. You can also compute specific values in Leibniz, and use them to test your Fortran code.</p></li><li><p>Define scientific concepts with the precision of a formal language. There is no better remedy against sloppy
thinking than a computer that forces you to respect your own definitions. See
<a href="http://sjscience.org/memberPage?uId=90&amp;jId=6#journal">this article collection</a> for essays on this
little-known aspect of computing and for practical examples.</p></li></ul></div></div><div id="contextindicator">&nbsp;</div></body></html>