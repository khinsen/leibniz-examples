<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Motion of a mass on a spring</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><style type="text/css">
.Leibniz { background-color: #E8E8FF; }
.LeibnizOutput { background-color: #E0FFE0; }
.LeibnizComment { background-color: #FFE8E8; }

</style><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Motion of a mass on a spring</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Analytical_solution%29" class="tocviewlink" data-pltdoc="x">Analytical solution</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Numerical_solution%29" class="tocviewlink" data-pltdoc="x">Numerical solution</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Motion_of_a_mass_on_a_spring%29" class="tocsubseclink" data-pltdoc="x">Motion of a mass on a spring</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Analytical_solution%29" class="tocsubseclink" data-pltdoc="x">Analytical solution</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Numerical_solution%29" class="tocsubseclink" data-pltdoc="x">Numerical solution</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Motion_of_a_mass_on_a_spring)"></a>Motion of a mass on a spring</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Konrad Hinsen</p></span></div><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Context <span style="font-style: italic">equations-of-motion</span><br/>uses <span style="font-style: italic">mechanics/dynamics</span><br/>uses <span style="font-style: italic">quantities/angular-frequency</span></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">We consider a point-like object of mass <span class="nobreak"><span class="Leibniz">m&#8239;:&#8239;M</span></span> attached to a
spring whose mass we assume to be negligible. The other end of the
spring is attached to a wall. When the particle is at position
<span class="nobreak"><span class="Leibniz">x&#8239;:&#8239;T&#8594;L</span></span> relative to the equilibrium length <span class="nobreak"><span class="Leibniz">l&#8239;:&#8239;L</span></span> of the spring,
the force <span class="nobreak"><span class="Leibniz">F&#8239;:&#8239;T&#8594;F</span></span> acting on it is proportional
to <span class="Leibniz" title="T→L">x</span>:
</div><div class="SIntrapara"><blockquote><p><span class="Leibniz" title="T→F = T→F"><span style="font-weight: bold">force</span>: F&#8287;=&#8287;-(k&#8287;&#215;&#8287;x)</span></p></blockquote></div><div class="SIntrapara">where <span class="nobreak"><span class="Leibniz">k&#8239;:&#8239;force-constant</span></span> characterizes the elastic properties
of the spring.</div></p><blockquote class="SCentered"><p><img src="Mass_spring.svg.png" alt="Drawing" width="320" height="234"/><br/><a href="https://commons.wikimedia.org/wiki/File:Mass_spring.svg">(Source: Wikimedia Commons)</a></p></blockquote><p><div class="SIntrapara">Newton&rsquo;s equation of motion for the displacement <span class="Leibniz" title="T→L">x</span> of the mass
takes the form
</div><div class="SIntrapara"><blockquote><p><span class="Leibniz" title="T→A = T→A"><span style="font-weight: bold">newton</span>: &#119967;(&#119967;(x))&#8287;=&#8287;-((k&#8287;&#247;&#8287;m)&#8287;&#215;&#8287;x)</span>.</p></blockquote></div></p><p><div class="SIntrapara"><span class="Smaller">Additional arithmetic definitions for this context:</span>
</div><div class="SIntrapara"><ol><li><p><span class="Smaller">A force constant times a length is a force:
  <br/>
<span class="nobreak"><span class="Leibniz">force-constant&#8287;&#215;&#8287;L&#8239;:&#8239;F</span></span>
  <br/>
<span class="nobreak"><span class="Leibniz">force-constant&#8287;&#215;&#8287;T&#8594;L&#8239;:&#8239;T&#8594;F</span></span>
  <br/>
<span class="Leibniz" title="[Qℝ] ⇒ [Qℝ]">(<span style="font-style: italic">k</span>&#8287;&#215;&#8287;<span style="font-style: italic">f</span>)[<span style="font-style: italic">t</span>]&#8287;&#8658;&#8287;<span style="font-style: italic">k</span>&#8287;&#215;&#8287;<span style="font-style: italic">f</span>[<span style="font-style: italic">t</span>]<br/><span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">f</span>&#8287;:&#8287;T&#8594;L<br/><span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">t</span>&#8287;:&#8287;T<br/><span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">k</span>&#8287;:&#8287;force-constant</span></span></p></li><li><p><span class="Smaller">A force constant divided by a mass is the square of an angular frequency:
  <br/>
<span class="nobreak"><span class="Leibniz">force-constant&#8287;&#247;&#8287;M&#8239;:&#8239;angular-frequency-squared</span></span></span></p></li><li><p><span class="Smaller">A squared angular frequency times a length is an acceleration:
  <br/>
<span class="nobreak"><span class="Leibniz">angular-frequency-squared&#8287;&#215;&#8287;L&#8239;:&#8239;A</span></span>
  <br/>
<span class="nobreak"><span class="Leibniz">angular-frequency-squared&#8287;&#215;&#8287;T&#8594;L&#8239;:&#8239;T&#8594;A</span></span>
  <br/>
<span class="Leibniz" title="[Qℝ] ⇒ [Qℝ]">(<span style="font-style: italic">&#969;2</span>&#8287;&#215;&#8287;<span style="font-style: italic">f</span>)[<span style="font-style: italic">t</span>]&#8287;&#8658;&#8287;<span style="font-style: italic">&#969;2</span>&#8287;&#215;&#8287;<span style="font-style: italic">f</span>[<span style="font-style: italic">t</span>]<br/><span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">f</span>&#8287;:&#8287;T&#8594;L<br/><span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">t</span>&#8287;:&#8287;T<br/><span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">&#969;2</span>&#8287;:&#8287;angular-frequency-squared</span></span></p></li></ol></div></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Context <span style="font-style: italic">analytical-solution</span><br/>extends <span style="font-style: italic">equations-of-motion</span><br/>uses <span style="font-style: italic">quantities/angular-frequency</span></p></blockquote></blockquote></blockquote><h3>1<tt>&nbsp;</tt><a name="(part._.Analytical_solution)"></a>Analytical solution</h3><p><div class="SIntrapara">Introducing <span class="nobreak"><span class="Leibniz">&#969;&#8239;:&#8239;angular-frequency</span></span> defined by
<span class="Leibniz" title="angular-frequency = angular-frequency">&#969;&#8287;=&#8287;&#8730;(k&#8287;&#247;&#8287;m)</span>, the solution of <span class="Leibniz" title="newton: 𝒟(𝒟(x)) = -((k ÷ m) × x)">=.<span style="font-weight: bold">newton</span></span>  can be written as
</div><div class="SIntrapara"><blockquote><p><span class="Leibniz" title="[Qℝ] = [Qℝ]"><span style="font-weight: bold">solution</span>: x[<span style="font-style: italic">t</span>]&#8287;=&#8287;A&#8287;&#215;&#8287;cos((&#969;&#8287;&#215;&#8287;<span style="font-style: italic">t</span>)&#8287;+&#8287;&#948;)<span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">t</span>&#8287;:&#8287;T</span>,</p></blockquote></div><div class="SIntrapara">where <span class="nobreak"><span class="Leibniz">cos(angle)&#8239;:&#8239;&#8477;</span></span> is the cosine function. The amplitude
<span class="nobreak"><span class="Leibniz">A&#8239;:&#8239;L</span></span> and the phase <span class="nobreak"><span class="Leibniz">&#948;&#8239;:&#8239;angle</span></span> can take arbitray values.</div></p><p><div class="SIntrapara"><span class="Smaller">Additional arithmetic definitions for this context:</span>
</div><div class="SIntrapara"><blockquote><p><span class="Smaller"><span class="nobreak"><span class="Leibniz">&#8730;(angular-frequency-squared)&#8239;:&#8239;angular-frequency</span></span></span></p></blockquote></div></p><h3>2<tt>&nbsp;</tt><a name="(part._.Numerical_solution)"></a>Numerical solution</h3><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Context <span style="font-style: italic">euler-template</span><br/>includes transformed <span style="font-style: italic">quantities/function-with-finite-difference-template</span></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">For simplicity, we use one of the simplest numerical integration schemes known
as the Euler method. It was developed in the era of manual computation, where
simplicity was of utmost importance. There are much better integration schemes
today, and therefore the Euler method should <span style="font-style: italic">not</span> be used in practice
when using a computer.</div></p><p><div class="SIntrapara">In the Euler method, the derivative <span class="Leibniz" title="SQD→SQID">&#119967;(<span style="font-style: italic">f</span>)</span> of a time-dependent quantity
<span class="Leibniz" title="SQD→SQI"><span style="font-style: italic">f</span></span> is replaced by the finite difference <span class="Leibniz" title="SQD→SQID">&#916;(<span style="font-style: italic">f</span>,&#8239;<span style="font-style: italic">h</span>)</span>, where <span class="Leibniz" title="SQDnz"><span style="font-style: italic">h</span></span>
is a small but non-zero integration step size.
The finite difference is computed as
   </div><div class="SIntrapara"><blockquote><p><span class="Leibniz" title="[Qℝ] ⇒ [Qℝ]">&#916;(<span style="font-style: italic">f</span>,&#8239;<span style="font-style: italic">h</span>)[<span style="font-style: italic">t</span>]&#8287;&#8658;&#8287;(<span style="font-style: italic">f</span>[<span style="font-style: italic">t</span>&#8287;+&#8287;<span style="font-style: italic">h</span>]&#8287;-&#8287;<span style="font-style: italic">f</span>[<span style="font-style: italic">t</span>])&#8287;&#247;&#8287;<span style="font-style: italic">h</span><span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">t</span>&#8287;:&#8287;SQD</span>.</p></blockquote></div></p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Context <span style="font-style: italic">numerical-solution</span><br/>extends <span style="font-style: italic">equations-of-motion</span><br/>includes transformed <span style="font-style: italic">euler-template</span><br/>includes transformed <span style="font-style: italic">euler-template</span></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">Since the Euler integration scheme applies to first-order differential
equations only, we must first transform <span class="Leibniz" title="newton: 𝒟(𝒟(x)) = -((k ÷ m) × x)">=.<span style="font-weight: bold">newton</span></span> into a
set of two coupled first-order equations <span class="Leibniz" title="formatting of nested assets not yet implemented"><span style="font-weight: bold">newton1</span></span>.</div></p><p><div class="SIntrapara">We introduce <span class="nobreak"><span class="Leibniz">v&#8239;:&#8239;T&#8594;V</span></span> representing the velocity
of the mass. The definition of this velocity,
   </div><div class="SIntrapara"><blockquote><p><span class="Leibniz" title="T→V = T→V"><span style="font-weight: bold">newton1.x</span>: &#119967;(x)&#8287;=&#8287;v</span>,</p></blockquote></div><div class="SIntrapara">is the first equation in our coupled set. The second one is obtained
by applying the substitution <span class="Leibniz"><span style="font-weight: bold">subst</span>: </span><span class="Leibniz" title="newton1.x: 𝒟(x) = v">&#8658;(<span style="font-weight: bold">newton1.x</span>) </span><span class="LeibnizOutput" title="T→V ⇒ T→V">&#119967;(x)&#8287;&#8658;&#8287;v</span> to the
second-order equation <span class="Leibniz" title="newton: 𝒟(𝒟(x)) = -((k ÷ m) × x)">=.<span style="font-weight: bold">newton</span></span> :
  </div><div class="SIntrapara"><blockquote><p><span class="Leibniz"><span style="font-weight: bold">newton1.v</span>: </span><span class="Leibniz" title="subst: 𝒟(x) ⇒ v"><span style="font-weight: bold">subst</span></span><span class="Leibniz">(</span><span class="Leibniz" title="newton: 𝒟(𝒟(x)) = -((k ÷ m) × x)"><span style="font-weight: bold">newton</span></span><span class="Leibniz">) </span><span class="LeibnizOutput" title="T→A = T→A">&#119967;(v)&#8287;=&#8287;-((k&#8287;&#247;&#8287;m)&#8287;&#215;&#8287;x)</span>.</p></blockquote></div></p><p>We can now discretize the equations <span class="Leibniz" title="formatting of nested assets not yet implemented"><span style="font-weight: bold">newton1</span></span> by applying
the substitution <span class="Leibniz" title="[Q→Q] ⇒ [Q→Q]"><span style="font-weight: bold">discretize</span>: &#119967;(<span style="font-style: italic">f</span>)&#8287;&#8658;&#8287;&#916;(<span style="font-style: italic">f</span>,&#8239;h)</span>,
where <span class="nobreak"><span class="Leibniz"><span style="font-style: italic">f</span>:Q&#8594;Q</span></span> is an arbitrary function of time
and <span class="nobreak"><span class="Leibniz">h&#8239;:&#8239;Tnz</span></span> is the integration time step:</p><blockquote><p><span class="Leibniz"><span style="font-weight: bold">newton&#916;.x</span>: </span><span class="Leibniz" title="discretize: 𝒟(f) ⇒ Δ(f, h)"><span style="font-weight: bold">discretize</span></span><span class="Leibniz">(</span><span class="Leibniz" title="newton1.x: 𝒟(x) = v"><span style="font-weight: bold">newton1.x</span></span><span class="Leibniz">) </span><span class="LeibnizOutput" title="T→V = T→V">&#916;(x,&#8239;h)&#8287;=&#8287;v</span><br/><span class="Leibniz"><span style="font-weight: bold">newton&#916;.v</span>: </span><span class="Leibniz" title="discretize: 𝒟(f) ⇒ Δ(f, h)"><span style="font-weight: bold">discretize</span></span><span class="Leibniz">(</span><span class="Leibniz" title="newton1.v: 𝒟(v) = -((k ÷ m) × x)"><span style="font-weight: bold">newton1.v</span></span><span class="Leibniz">) </span><span class="LeibnizOutput" title="T→A = T→A">&#916;(v,&#8239;h)&#8287;=&#8287;-((k&#8287;&#247;&#8287;m)&#8287;&#215;&#8287;x)</span></p></blockquote><p>Applying <span class="Leibniz" title="[Q→Q] → [Qℝ]"><span style="font-weight: bold">at-t</span>: <span style="font-style: italic">f</span>&#8287;&#8594;&#8287;<span style="font-style: italic">f</span>[t]</span> yields the equations for an
explicit value of <span class="nobreak"><span class="Leibniz">t&#8239;:&#8239;T</span></span>:</p><blockquote><p><span class="Leibniz"><span style="font-weight: bold">newton&#916;-t.x</span>: </span><span class="Leibniz" title="newtonΔ.x: Δ(x, h) = v"><span style="font-weight: bold">newton&#916;.x</span></span><span class="Leibniz"> &#8286; </span><span class="Leibniz" title="at-t: f → f[t]"><span style="font-weight: bold">at-t</span></span><span class="Leibniz"> &#8681; </span><span class="LeibnizOutput" title="V = V">(x[t&#8287;+&#8287;h]&#8287;-&#8287;x[t])&#8287;&#247;&#8287;h&#8287;=&#8287;v[t]</span><br/><span class="Leibniz"><span style="font-weight: bold">newton&#916;-t.v</span>: </span><span class="Leibniz" title="newtonΔ.v: Δ(v, h) = -((k ÷ m) × x)"><span style="font-weight: bold">newton&#916;.v</span></span><span class="Leibniz"> &#8286; </span><span class="Leibniz" title="at-t: f → f[t]"><span style="font-weight: bold">at-t</span></span><span class="Leibniz"> &#8681; </span><span class="LeibnizOutput" title="A = A">(v[t&#8287;+&#8287;h]&#8287;-&#8287;v[t])&#8287;&#247;&#8287;h&#8287;=&#8287;-((k&#8287;&#247;&#8287;m)&#8287;&#215;&#8287;x[t])</span></p></blockquote><p>These equations can be used to construct an iterative algorithm that computes
<span class="Leibniz" title="[Qℝ] = [Qℝ]"><span style="font-weight: bold">time-series.x</span>: x<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span></span>&#8287;=&#8287;x[t0&#8287;+&#8287;(<span style="font-style: italic">n</span>&#8287;&#215;&#8287;h)]</span> and
<span class="Leibniz" title="[Qℝ] = [Qℝ]"><span style="font-weight: bold">time-series.v</span>: v<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span></span>&#8287;=&#8287;v[t0&#8287;+&#8287;(<span style="font-style: italic">n</span>&#8287;&#215;&#8287;h)]</span> for any <span class="nobreak"><span class="Leibniz"><span style="font-style: italic">n</span>:&#8469;</span></span>, given the
initial values <span class="Leibniz" title="L">x<span style="vertical-align: sub; font-size: 80%">0</span></span> and <span class="Leibniz" title="V">v<span style="vertical-align: sub; font-size: 80%">0</span></span> at time <span class="nobreak"><span class="Leibniz">t0&#8239;:&#8239;T</span></span>:</p><blockquote><p><span class="Leibniz" title="[Qℝ] ⇒ [Qℝ]"><span style="font-weight: bold">algo.x</span>: x<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span></span>&#8287;&#8658;&#8287;x<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span>&#8287;-&#8287;1</span>&#8287;+&#8287;(h&#8287;&#215;&#8287;v<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span>&#8287;-&#8287;1</span>)<span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">n</span>&#8287;:&#8287;&#8469;nz</span><br/><span class="Leibniz" title="[Qℝ] ⇒ [Qℝ]"><span style="font-weight: bold">algo.v</span>: v<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span></span>&#8287;&#8658;&#8287;v<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span>&#8287;-&#8287;1</span>&#8287;+&#8287;(h&#8287;&#215;&#8287;((k&#8287;&#247;&#8287;m)&#8287;&#215;&#8287;x<span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">n</span>&#8287;-&#8287;1</span>))<span class="hspace">&nbsp;&nbsp;</span>&#8704;&#8287;<span style="font-style: italic">n</span>&#8287;:&#8287;&#8469;nz</span></p></blockquote><p><div class="SIntrapara"><span class="Smaller">Additional arithmetic definition for this context:</span>
</div><div class="SIntrapara"><ul><li><p><span class="Smaller">Integer indices select a time value on a grid:
  <br/>
<span class="nobreak"><span class="Leibniz">T&#8594;L<span style="vertical-align: sub; font-size: 80%">&#8484;</span>&#8239;:&#8239;L</span></span>
  <br/>
<span class="nobreak"><span class="Leibniz">T&#8594;V<span style="vertical-align: sub; font-size: 80%">&#8484;</span>&#8239;:&#8239;V</span></span></span></p></li></ul></div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>